# How to disign a spike system

如何设计一个秒杀系统

+ 大并发高可用秒杀系统的设计之道

## You will get 

+ 常见业务场景下的必备架构知识要点；
+ 大并发、高性能的架构设计方法与原则；
+ 透彻理解描述系统的各个关键技术点；
+ 快速搭建一套满足业务的高可用系统。


## The author introduction

许令波，花名“君山”，2009年加入淘宝，一直关注性能优化领域，经历了淘宝PV从1亿到50亿的发展历程，参与了淘宝高访问量Web系统模版引擎的改造、静态化、无线化、CDN等优化改造项目。任职期间，他一直参与淘宝高访问量的系统页面详情系统的优化工作，设计并实现了 sketch 模版引擎将服务性能提升近 30%左右。

## The course introduction

“秒杀”，就是同一个时刻有大量请求争抢购买同一个商品，并完成交易的过程，其间涉及大量的并发读和并发写，并要求高可靠和高性能的系统支持。

也因此，“秒杀”对于程序员来说，意味着巨大的挑战。如何让系统面对百万级的请求流量不出故障？如何保证高并发情况下数据的一致性写？如恶化在不堆服务器的情况下应对的是平时数百上千倍的并发访问？如何分别针对大流量的读写请求进行服务端的极致优化？都可以在这个专栏找到答案。

这个专栏希望在透彻理解秒杀系统的各个关键技术点后，能够快速搭建一套满足自己业务场景的高可用 秒杀系统。更多的是，可以借助“秒杀”这个互联网高并发场景中的典型代表，了解如何打造一个超大流量并发读写、高性能，以及高可用的系统架构。

专栏共7期，分为三大模块：

+ **高性能**

秒杀涉及大量的并发读和并发写，因此支持高并发访问这点非常关键。专栏将从设计数据的 动静分离方案、热点的发现与隔离、请求的 削峰与分层过滤、服务端的极致优化这4个方面重点介绍。

+ **一致性**

秒杀中商品减库存的实现方式同样关键。可想而知，有限数量的商品在同一时刻被很多倍的请求同时来减库存，减库存 又分为“拍下减库存”“付款减库存”以及预扣等几种，在大并发更新的过程中都要保证数据的准确性，其难度可想而知。因此， 将用一篇文章来专门讲解如何设计秒杀减库存方案。

+ **高可用**

虽然介绍了很多极致的优化思路，但现实中难免出现一些考虑不到的情况，所以要保证系统的高可用和正确性，还要设计一个 Plan B 来兜底，以便在最坏的情况发生时，仍然能够从容应对。专栏最后，可以思考从那些环节设计兜底方案。

## The course catalog

《如何设计一个秒杀系统》

```
https://time.geekbang.org/column/intro/127
```

```
开篇词： 秒杀系统架构设计都有那些关键点？

```

+ **1.设计秒杀系统时应该注意的5个架构原则**
```
秒杀系统整体的架构设计思路
“4要1不要”原则
不同场景下的不同架构案例
```

+ **2.如何才能做好动静分离？有那鞋方案可选？**
```
什么是静态数据和动态数据
如何做到动静分离的改造
动静分离的几种架构方案
```

+ **3.二八原则：有针对性地处理好系统的“热点数据”**
```
什么是“热点”： 热点操作和热点数据
实现一个动态热点发现系统
思路： 优化、限制、隔离
```

+ **4.流量削峰这事应该怎么做？**
```
什么是流量削峰
队列缓冲、秒杀答题、分层过滤
具体的实现细节
```

+ **5.影响性能的因素有哪些？又该如何提高系统的性能？**
```
影响性能的因素
如何发现瓶颈
如何优化系统
```

+ **6.秒杀系统“减库存”设计的核心逻辑**
```
常见的几种减库存方案
减库存的最优实现方式
其中的坑以及关键优化点
```

+ **7.准备 Plan B：如何设计兜底方案？**
```
如何才能保证系统的高可用
降级、限流、拒绝服务的核心逻辑
具体的实现细节
```

+ **8.答疑解惑：缓存失效的策略应该怎么定？**

+ **结课测试  这些秒杀系统的设计知识你都掌握了吗？**





