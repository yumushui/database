# 30 Lectures on Distributed Database

分布式数据库30讲

+ 从功能特性到运行机制，讲透本质

## You will get

+ 分布式数据库技术内核深度剖析
+ NewSQL 和 PostgreSQL-XC 架构详解
+ 分布式数据库强一致性的实现方式
+ 海量数据和超高并发的应对方案

## The arthor introduction

王磊，光大银行首席数据库架构师，在数据库领域有超过15年工作经验，曾服务于多家大型金融机构，在分布式架构方面有丰富经验。

他作为数据库领域的主要设计者，推动了光大银行从传统数据仓库向大数据生态的转型，主导了大数据开发平台、数据中台等多个重要系统的架构设计工作，获得了银行业的多个技术奖项，是大数据技术在金融行业的首批践行者。

同时，他也没有脱离一线，亲自带领小团队自研了 Pharos，实现了百亿海量数据下的复杂查询。

## The course introduction

近几年，阿里巴巴、腾讯、字节跳动、美团、滴滴、58、知乎等互联网公司，都已经开始使用分布式数据库；而传统的金融和电信行业也在快速跟进，交通银行、中信银行、光大银行、北京银行和一些城市商业银行都以及上线了分布式数据库。可以说，在各种因素的推动下，分布式数据库已经成为一种技术潮流，甚至是新基建的一部分。

+ 分布式数据库到底是什么？
+ 它跟传统数据库有什么不同？
+ 为什么会出现这样一种新技术？
+ 它可以帮助我们解决什么问题？
+ 怎样才能高效地学习和掌握它？

很多人都被这样的问题困扰。网络上对分布式数据库的讨论热度很高，但众说纷纭，我们 难以辨别出客观且有价值的信息。

其实，学习分布式数据库并不难，难的是要找到高效学习的路径，抓住它的核心。因此作者会从比较熟悉的单体数据库出发，通过原理层面的对比学习，带你抓住分布式数据库的核心，高效学习。

这样，只能避免学习数据库产品时一下子就陷入安装部署、操作指令等细节中，摆脱学完以后还是不知道产品原理、碰到没有见过的问题依然是束手无策的窘境。

compare_with_single_distributed_database
![compare_with_single_distributed_database](https://github.com/yumushui/database/blob/master/distributed_database/wanglei_distribute_database/compare_with_single_distributed_database.png  "compare_with_single_distributed_database")

同时，作者服务过多家大型金融机构，深度参与了产品选型工作，能从一个中立的角度，剖析主流产品的运行机制和理论 依据，横向比较它们的差异，并且解读企业在进行技术决策背后的动机，快速建立起对分布式数据库全面的认知体系。


## common problem

### 1. 学习这些需要什么基础？

这些内容的设计初衷和思路，就是为了低门槛地学习，只要具备一定的编程基础，有一些数据库使用经验，以及对SQL 运行优化有直观的感受，就能够从课程中汲取前人的智慧、提升自己的技术竞争力。

因此，学习这门课，不用对数据库的内部运行机制或者分布式技术有深刻的认识。

### 2. 这些不会讲什么？

这门课的目标是，从功能特性到运行机制，带你吃透分布式数据库的本质。因此，不会讲解各种产品的安装部署、操作指令、性能调优等内容。一方面，分布式数据库产品众多，更新速度非常快；另一方面，只要选择正确的方向，很容有其他渠道获得详实的资料和具体的 指导。

## Modular Design

包括3大模块。

+ **基础篇**

讲解分布式数据库的基本概念、主流产品的架构风格、一些基本功能，以及分布式数据库设计的难点，建立对分布式数据库的整体 认知。

+ **开发篇**

深入到一个个关键功能的设计中，挖掘其背后可选择的理论设计方案，分析方案之间的差异，以及工业界产品在落地实现 时的改进。因此，这个模块的设计思路是从问题到解决方案，再到产品实现，目的就是不仅在纵向上搭建一个分布式数据库的 多层知识目录，还能从横向上针对每一个关键功能对比各种主流产品的设计选择，最终形成一个网络化的体系。

+ **实践篇**

聚焦与架构选型，告诉你在企业中引入分布式数据库需要关注那些事情、做那些准备，比如会给运维带来那些冲击、怎么去做测试，其他企业是基于什么原因选择分布式数据库的。同时这个模块，还会梳理一份分布式数据库的产品图鉴，一些检阅这个时代最 酷的基础软件。可以把这份产品图鉴当作产品维度的课程索引，反向检索产品的设计。

## Course Catalog

《分布式数据库 30讲》

```
https://time.geekbang.org/column/intro/331
```

```
开篇词  我们为什么要学习分布式数据库
```

### 基础篇
```
01  什么是分布式数据库？

02  强一致性： 那么多数据一致性模型，究竟有什么不一样？

03  强一致性： 别再用 BASE 做借口，来看看什么是真正的事务一致性

04  架构风格： NewSQL 和 PGXC 到底有什么不一样？

05  全局时钟： 物理时钟和逻辑时钟你 Pick 谁？

06  分片机制： 为什么说 Range 是更好的分片策略？

07  数据复制： 为什么有时候 Paxos 不是最佳选择？

08  分布式数据库思考题集锦（一）

```

### 开发篇
```
09  原子性： 2PC 还是原子性协议的王者吗？

10  原子性： 如何打破分布式事务的高延迟魔咒？

11  隔离性： 读写冲突时，快照是最好的办法吗？

12  隔离性： 看不见的读写冲突，要怎么处理？

13  隔离性： 为什么使用乐观协议的分布式数据库越来越少？

14  隔离性： 实现悲观协议，除了锁还有别的办法吗？

15  分布式数据库思考题集锦（二）

16  为什么不建议你使用存储过程？

17  为什么不建议使用自增主键？

18  架构风格： HTAP 是赢者通吃的游戏吗？

19  查询性能优化： 计算与存储分离架构下有那些优化思路？

20  关联查询： 如何提升多表 Join 能力？

21  火山模型与向量化模型： 如何让聚合计算加速？

22  RUM 猜想：想要读写快还是存储省？又是三选二

23  分布式数据库思考题集锦（三）

```

### 实践篇
```
24  全球化部署： 如何打造近在咫尺且永不宕机的数据库？

25  容灾和备份： 如何设计逃生通道保证业务连续性？

26  容器化： 分布式数据库要不要上云，你想好来吗？

27  产品测试： 除了性能跑分，还能测什么？

28  选型案例： 银行是怎么选择分布式数据库的？

29  产品图鉴： 那些分布式数据库值得看？

30  分布式数据库思考题集锦（四）

结束语  优雅，永远是架构师的精神追求

```


# Distributed Database Knowledge


distributed_database_mindmap.jpg

![distributed_database_mindmap.jpg](https://github.com/yumushui/database/blob/master/distributed_database/wanglei_distribute_database/distributed_database_mindmap.jpg "distributed_database_mindmap.jpg")


